<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_11) on Wed Nov 19 10:05:18 CAT 2008 -->
<TITLE>
SmsSmpp
</TITLE>

<META NAME="keywords" CONTENT="org.sakaiproject.sms.api.SmsSmpp interface">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="SmsSmpp";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/SmsSmpp.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/sakaiproject/sms/api/SmsScheduler.html" title="interface in org.sakaiproject.sms.api"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/sakaiproject/sms/api/SmsSmpp.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SmsSmpp.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.sakaiproject.sms.api</FONT>
<BR>
Interface SmsSmpp</H2>
<DL>
<DT><B>All Known Implementing Classes:</B> <DD><A HREF="../../../../org/sakaiproject/sms/impl/SmsSmppImpl.html" title="class in org.sakaiproject.sms.impl">SmsSmppImpl</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>SmsSmpp</B></DL>
</PRE>

<P>
This service will contain the necessary logic to communicate with a standard
 SMPP gateway.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>louis@psybergate.com</DD>
</DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sakaiproject/sms/api/SmsSmpp.html#connectToGateway()">connectToGateway</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Establish a connection the the gateway (bind).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sakaiproject/sms/api/SmsSmpp.html#disconnectGateWay()">disconnectGateWay</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unbind from the gateway.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sakaiproject/sms/api/SmsSmpp.html#getConnectionStatus()">getConnectionStatus</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the status of this connection to the gateway.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/sakaiproject/sms/model/SmsDeliveryReport.html" title="class in org.sakaiproject.sms.model">SmsDeliveryReport</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sakaiproject/sms/api/SmsSmpp.html#getDeliveryNotifications()">getDeliveryNotifications</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the buffered list of notifications and clear the buffer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sakaiproject/sms/api/SmsSmpp.html#getGatewayInfo()">getGatewayInfo</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get some info regarding the remote gateway.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sakaiproject/sms/api/SmsSmpp.html#insertIntoLog()">insertIntoLog</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Write adequate debug information to log4j</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sakaiproject/sms/api/SmsSmpp.html#processMessageRemotely()">processMessageRemotely</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Call an external service to handle the processing of an outgoing message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sakaiproject/sms/api/SmsSmpp.html#receiveDeliveryReport()">receiveDeliveryReport</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Receive a delivery report from the gateway and store in an internal
 buffer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sakaiproject/sms/api/SmsSmpp.html#receiveMessage()">receiveMessage</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Receive an incoming message from the gateway.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/sakaiproject/sms/model/SmsMessage.html" title="class in org.sakaiproject.sms.model">SmsMessage</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sakaiproject/sms/api/SmsSmpp.html#sendMessagesToGateway(org.sakaiproject.sms.model.SmsMessage[])">sendMessagesToGateway</A></B>(<A HREF="../../../../org/sakaiproject/sms/model/SmsMessage.html" title="class in org.sakaiproject.sms.model">SmsMessage</A>[]&nbsp;messages)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Send a list of messages to the gateway.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/sakaiproject/sms/model/SmsMessage.html" title="class in org.sakaiproject.sms.model">SmsMessage</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sakaiproject/sms/api/SmsSmpp.html#sendMessageToGateway(org.sakaiproject.sms.model.SmsMessage)">sendMessageToGateway</A></B>(<A HREF="../../../../org/sakaiproject/sms/model/SmsMessage.html" title="class in org.sakaiproject.sms.model">SmsMessage</A>&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Send one message to the SMS gateway.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="connectToGateway()"><!-- --></A><H3>
connectToGateway</H3>
<PRE>
int <B>connectToGateway</B>()</PRE>
<DL>
<DD>Establish a connection the the gateway (bind). The connection will be
 kept open for the lifetime of the session. Concurrent connections will be
 possible from other SMS services. The status of the connection will be
 checked before sending a message, and a auto-bind will be made if
 disconnected.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="disconnectGateWay()"><!-- --></A><H3>
disconnectGateWay</H3>
<PRE>
void <B>disconnectGateWay</B>()</PRE>
<DL>
<DD>Unbind from the gateway. If disconnected, no message sending will be
 possible.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="sendMessageToGateway(org.sakaiproject.sms.model.SmsMessage)"><!-- --></A><H3>
sendMessageToGateway</H3>
<PRE>
<A HREF="../../../../org/sakaiproject/sms/model/SmsMessage.html" title="class in org.sakaiproject.sms.model">SmsMessage</A> <B>sendMessageToGateway</B>(<A HREF="../../../../org/sakaiproject/sms/model/SmsMessage.html" title="class in org.sakaiproject.sms.model">SmsMessage</A>&nbsp;message)</PRE>
<DL>
<DD>Send one message to the SMS gateway. Return result code to caller.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="sendMessagesToGateway(org.sakaiproject.sms.model.SmsMessage[])"><!-- --></A><H3>
sendMessagesToGateway</H3>
<PRE>
<A HREF="../../../../org/sakaiproject/sms/model/SmsMessage.html" title="class in org.sakaiproject.sms.model">SmsMessage</A>[] <B>sendMessagesToGateway</B>(<A HREF="../../../../org/sakaiproject/sms/model/SmsMessage.html" title="class in org.sakaiproject.sms.model">SmsMessage</A>[]&nbsp;messages)</PRE>
<DL>
<DD>Send a list of messages to the gateway. Abort if the gateway connection
 is down or gateway returns an error and mark all messages as failed.
 Return message statusses back to caller.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="receiveDeliveryReport()"><!-- --></A><H3>
receiveDeliveryReport</H3>
<PRE>
void <B>receiveDeliveryReport</B>()</PRE>
<DL>
<DD>Receive a delivery report from the gateway and store in an internal
 buffer. Each delivery report will be matched up with the original
 outgoing message.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getConnectionStatus()"><!-- --></A><H3>
getConnectionStatus</H3>
<PRE>
int <B>getConnectionStatus</B>()</PRE>
<DL>
<DD>Return the status of this connection to the gateway.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getGatewayInfo()"><!-- --></A><H3>
getGatewayInfo</H3>
<PRE>
java.lang.String <B>getGatewayInfo</B>()</PRE>
<DL>
<DD>Get some info regarding the remote gateway.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="processMessageRemotely()"><!-- --></A><H3>
processMessageRemotely</H3>
<PRE>
void <B>processMessageRemotely</B>()</PRE>
<DL>
<DD>Call an external service to handle the processing of an outgoing message.
 This could be a simple php script or another Java service.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getDeliveryNotifications()"><!-- --></A><H3>
getDeliveryNotifications</H3>
<PRE>
<A HREF="../../../../org/sakaiproject/sms/model/SmsDeliveryReport.html" title="class in org.sakaiproject.sms.model">SmsDeliveryReport</A> <B>getDeliveryNotifications</B>()</PRE>
<DL>
<DD>Return the buffered list of notifications and clear the buffer.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="insertIntoLog()"><!-- --></A><H3>
insertIntoLog</H3>
<PRE>
void <B>insertIntoLog</B>()</PRE>
<DL>
<DD>Write adequate debug information to log4j
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="receiveMessage()"><!-- --></A><H3>
receiveMessage</H3>
<PRE>
void <B>receiveMessage</B>()</PRE>
<DL>
<DD>Receive an incoming message from the gateway. To be done at a later
 stage.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/SmsSmpp.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/sakaiproject/sms/api/SmsScheduler.html" title="interface in org.sakaiproject.sms.api"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/sakaiproject/sms/api/SmsSmpp.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SmsSmpp.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
