<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://java.sun.com/xml/ns/j2ee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee  http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd" 
		version="2.4">
	<display-name>sms_ui</display-name>
	<description>SMS UI</description>


  <!-- Configure standard Spring application contexts. Be sure to mention
    rsf config files first, so any overrides may be processed. The first two
    config files are loaded from inside the rsfutil.jar  -->
  <context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>
      classpath:conf/rsf-config.xml,
      classpath:conf/blank-applicationContext.xml,
      classpath:conf/components-applicationContext.xml,
     /WEB-INF/applicationContext.xml</param-value>
  </context-param>
  
  <!-- Configure "resource scope" Spring application contexts (RSAC).
     Be sure to mention rsf config files first, so any overrides may be
    processed -->
  <context-param>
    <param-name>requestContextConfigLocation</param-name>
    <param-value>classpath:conf/rsf-requestscope-config.xml,
                  classpath:conf/blank-requestContext.xml,
                  classpath:conf/components-requestContext.xml
                 /WEB-INF/requestContext.xml</param-value>
  </context-param>
	
  <!-- The "request scope application context" loading filter. Only use this
    if your application defines no filters which perform wrapping of the
    servlet request, otherwise use methods of RSACBeanLocator manually in your 
    filters. -->
  <filter>
  <filter-name>RSACFilter</filter-name>
    <filter-class>
      uk.org.ponder.rsac.servlet.RSACFilter
    </filter-class>
  </filter>
  
  <filter-mapping>
    <filter-name>RSACFilter</filter-name>
    <url-pattern>/faces/*</url-pattern>
  </filter-mapping>
  
  <listener>
    <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
  </listener>
  
  <!--
  	TODO: Replace with uk.ac.cam.caret.sakai.rsf.servlet.ReasonableSakaiServlet when integrating with Sakai
  -->
  <servlet>
    <servlet-name>ReasonableServlet</servlet-name>
    <servlet-class>uk.org.ponder.rsf.servlet.ReasonableServlet</servlet-class>
    <load-on-startup>1</load-on-startup>
  </servlet>
  
  <servlet-mapping>
    <servlet-name>ReasonableServlet</servlet-name>
    <url-pattern>/faces/*</url-pattern>
  </servlet-mapping>
 
</web-app>